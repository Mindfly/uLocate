<div ng-controller="uLocate.Controllers.ImportController">
    <umb-panel>
        <umb-header>
            <div class="span7">
                <h1><ulocate-localize key="importLocations">Import Locations</ulocate-localize></h1>
            </div>
            <div class="span5">
                <div class="btn-toolbar pull-right umb-btn-toolbar">
                    <div class="btn-group">
                        <a class="btn btn-primary" ng-click="uploadFile()"><localize key="general_import">Import</localize></a>
                    </div>
                </div>
            </div>
        </umb-header>

        <umb-tab-view>

            <div class="umb-pane">

                <div class="control-group umb-control-group">
                    <label class="control-label" for="import">
                        <!-- TODO: Allow for XML and JSON file imports later -->
                        <ulocate-localize key="importFile">Import File</ulocate-localize>
                        <small><ulocate-localize key="importFileHelp">Select a CSV file to import. You can save Excel spreadsheets to a CSV format.</ulocate-localize></small>
                    </label>
                    

                    <div class="controls controls-row">
                        <button ng-file-select ng-model="files" ng-file-change="fileSelected(files)" class="file button btn-primary" ng-multiple="false"><ulocate-localize key="chooseFile">Choose File</ulocate-localize></button> {{file.name}}
                    </div>
                </div>
                
                <div class="control-group umb-control-group">
                    <label class="control-label" for="type">
                        <ulocate-localize key="locationType">Location Type</ulocate-localize>
                        <small><ulocate-localize key="locationTypeImportHelp">You can only import a single location type per upload.</ulocate-localize></small>
                    </label>

                    <div class="controls controls-row">
                        <select id="type" name="type" ng-model="selected.locationType" ng-options="option.name for option in options.locationType" ng-change="locationTypeSelected(selected.locationType)"></select>
                    </div>
                </div>

            </div>

        </umb-tab-view>
    </umb-panel>
</div>
<div class="uLocate" ng-controller="uLocate.Controllers.LocationTypesController">

    <!-- The location types view route displays this panel -->
    <umb-panel ng-hide="selectedView != 'view'">
        <umb-header>
            <div class="span7">
                <h1><ulocate-localize key="locationTypes">Location Types</ulocate-localize></h1>
            </div>
            <div class="span5">
                <div class="btn-toolbar pull-right umb-btn-toolbar">
                    <div class="btn-group" ng-class="{'open': openMenu}">
                        <a class="btn" ng-click="openMenu = !openMenu"><localize key="general_actions">Actions</localize> <span class="caret"></span></a>
                        <ul class="dropdown-menu umb-actions">
                            <li class="action">
                                <a ng-click="openCreateDialog(); openMenu = !openMenu;"><i class="icon icon-add"></i><span class="menu-label"><localize key="actions_create">Create</localize></span></a> <!-- TODO: Opens the page to create a new location type -->
                            </li>
                            <li class="action sep">
                                <a><i class="icon icon-refresh"></i><span class="menu-label"><localize key="actions_refreshNode">Reload nodes</localize></span></a> <!-- TODO: Reloads the location types and ideally kicks the cache in the teeth -->
                            </li>
                        </ul>
                    </div>
                </div>
            </div>
        </umb-header>

        <umb-tab-view>

            <div class="umb-pane">

                <table class="table table-hover">
                    <thead>
                        <tr>
                            <td><input type="checkbox" /></td>
                            <td><localize key="general_name">Name</localize></td>
                            <td><ulocate-localize key="fields">Fields</ulocate-localize></td>
                            <td></td>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <!-- TODO: The default location type should always display -->
                            <td></td>
                            <td><i class="icon-pin-location"></i> <ulocate-localize key="default">Default</ulocate-localize></td> <!-- TODO: Change "Default" to a more user friendly term -->
                            <td><ulocate-localize key="defaultFields">Name, Street Address, Extended Address, City, State/Province, Zip/Postal Code, Country, Latitude/Longitude, Phone Number</ulocate-localize></td>
                            <td></td>
                        </tr>
                        <tr>
                            <td><input type="checkbox" /></td>
                            <td><i class="icon-pin-location"></i> Business</td>
                            <td>Contact Name, Phone Extention, Accepts Marketing</td> <!-- TODO: This should be a repeater that displays all the field names in a comma separated list -->
                            <td class="btn-group text-right">
                                <a class="btn btn-mini" href="#/uLocate/uLocate/locationTypes/edit"><i class="icon-edit"></i></a> <!-- TODO: Opens the create/edit page, not a dialog -->
                                <a class="btn btn-mini btn-danger" ng-click="openDeleteDialog(location)"><i class="icon-trash"></i></a> <!-- TODO: Will have a pop-up delete notification asking users if they want to revert associated locations to the default location type or delete them, perhaps using a custom dialog based on https://github.com/umbraco/Umbraco-CMS/blob/788a0241d828cecd09f84a2a356b643422c6599c/src/Umbraco.Web.UI.Client/src/views/datatype/delete.html -->
                            </td>
                        </tr>
                    </tbody>
                </table>

            </div>
        </umb-tab-view>

    </umb-panel>

    <!-- The location types edit (also create) route displays this panel -->
    <umb-panel ng-hide="selectedView != 'edit'">
        <umb-header tabs="tabs">
            <div class="span7">
                <div class="umb-headline-editor-wrapper">
                    <input type="text" name="name" ulocate-localize="placeholder" class="umb-headline" placeholder="locationTypeName" ng-model="typeName" required="" /> <!-- TODO: Displays the name if editing. -->
                    <span class="help-inline" ng-show="!isTypeNameProvided(typeName)"><localize key="general_required">Required</localize></span>
                </div>
            </div>
            <div class="span5">
                <div class="btn-toolbar pull-right umb-btn-toolbar">
                    <div class="btn-group">
                        <a class="btn btn-primary"><localize key="buttons_save">Save</localize></a> <!-- TODO: Add the save functionality -->
                    </div>
                </div>
            </div>
        </umb-header>

        <umb-tab-view>

            <umb-tab id="tabinfo" active="true" rel="info" label="Info">

                <div class="umb-pane">

                    <div class="control-group umb-control-group">

                        <label class="control-label" for="icon"><localize key="general_icon">Icon</localize></label>

                        <div class="controls controls-row">

                            <div class="umbIconDropdownList">
                                <a class="btn btn-link picker-icons" ng-click="openIconPicker()"> <i class="{{icon}}"></i> <localize key="general_choose">Choose</localize>...</a> <!-- TODO: Should show the chosen icon, and clicking should open the icon picker dialog -->
                                <input name="icon" type="hidden" ng-model="icon"> <!-- TODO: This should submit the icon and color from the icon dialog -->
                            </div>

                        </div>

                    </div>

                    <div class="control-group umb-control-group">

                        <label class="control-label" for="description">
                            <localize key="editcontenttype_description">Description</localize>
                            <small><ulocate-localize key="descriptionHelp">Displayed with the icon when creating a new location of this type</ulocate-localize></small>
                        </label>
                        <div class="controls controls-row">
                            <textarea name="description" class="umb-editor umb-textarea"></textarea>
                        </div>

                    </div>

                </div>

            </umb-tab>

            <umb-tab id="tabproperties" rel="properties" label="Properties">

                <div class="umb-pane form-horizontal">

                    <div class="control-group umb-control-group">
                        <label class="control-label">
                            Business <localize key="general_properties">Properties</localize> <!-- TODO: Replace "business" with the location type name variable -->
                            <small>
                                <ulocate-localize key="propertiesHelp">New location types <strong>append</strong> the default location, so you will always have address, phone, email, and lat/long fields.</ulocate-localize>
                            </small>
                        </label>

                        <div class="controls controls-row">

                            <table class="table">
                                <thead>
                                    <tr>
                                        <td><localize key="general_alias">Alias</localize></td>
                                        <td><localize key="general_name">Name</localize></td>
                                        <td><localize key="general_type">Type</localize></td>
                                        <td></td>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr>
                                        <td><input type="text" ulocate-localize="placeholder" placeholder="propertyAlias" value="contactName" /></td> <!-- TODO: If we can enforce no spaces or special characters in this, that would be great. -->
                                        <td><input type="text" ulocate-localize="placeholder" placeholder="propertyName" value="Contact Name" /></td>
                                        <td>
                                            <select>
                                                <option>Textbox</option> <!-- TODO: Umbraco.Textbox -->
                                                <option>Textbox Multiple</option> <!-- TODO: Umbraco.TextboxMultiple -->
                                                <option>True/False</option> <!-- TODO: Umbraco.TrueFalse -->
                                                <option>Multiple Media Picker</option> <!-- TODO: Umbraco.MultipleMediaPicker -->
                                                <option>Single Media Picker</option> <!-- TODO: Umbraco.MediaPicker -->
                                                <option>Member Picker</option> <!-- TODO: Umbraco.MemberPicker -->
                                                <option>Content Picker</option> <!-- TODO: Umbraco.ContentPickerAlias -->
                                                <option>Checkbox List</option> <!-- TODO: Discuss between Kyle, HFloyd, and Janae -->
                                            </select>
                                        </td>
                                        <td class="btn-group text-right">
                                            <a class="btn btn-mini btn-danger"><i class="icon-trash"></i></a> <!-- TODO: Will have a pop-up delete confirmation letting users know that deleting this field will remove any data locations have -->
                                        </td>
                                    </tr>
                                    <tr>
                                        <td><input type="text" ulocate-localize="placeholder" placeholder="propertyAlias" /></td>
                                        <td><input type="text" ulocate-localize="placeholder" placeholder="propertyName" /></td>
                                        <td>
                                            <select>
                                                <option>Choose...</option>
                                                <option>Textbox</option> <!-- TODO: Umbraco.Textbox -->
                                                <option>Textbox Multiple</option> <!-- TODO: Umbraco.TextboxMultiple -->
                                                <option>True/False</option> <!-- TODO: Umbraco.TrueFalse -->
                                                <option>Multiple Media Picker</option> <!-- TODO: Umbraco.MultipleMediaPicker -->
                                                <option>Single Media Picker</option> <!-- TODO: Umbraco.MediaPicker -->
                                                <option>Member Picker</option> <!-- TODO: Umbraco.MemberPicker -->
                                                <option>Content Picker</option> <!-- TODO: Umbraco.ContentPickerAlias -->
                                                <option>Checkbox List</option> <!-- TODO: Discuss between Kyle, HFloyd, and Janae -->
                                            </select>
                                        </td>
                                        <td class="btn-group text-right">
                                            <a class="btn btn-mini btn-primary"><i class="icon-add"></i></a> <!-- TODO: Clicking add will automatically generate a new row -->
                                        </td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>

                </div>

            </umb-tab>

        </umb-tab-view>

    </umb-panel>
</div>